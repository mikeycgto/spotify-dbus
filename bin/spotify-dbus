#!/usr/bin/env ruby
require 'spotify-dbus'

def error msg
  puts msg
  exit false
end

if ARGV.size > 0
  begin
    cmd = ARGV.pop
    if Spotify.player.methods[cmd]
      Spotify.player.send(cmd) 
    else
      error "Invalid command!"
    end
  rescue
    error "Spotify is not running!"
  end
else
  error "No command given!"
end

